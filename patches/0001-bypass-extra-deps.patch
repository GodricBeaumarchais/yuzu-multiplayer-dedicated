From 432376920da73e5bb1dc3462c9e92c88607f7d75 Mon Sep 17 00:00:00 2001
From: liushuyu <liushuyu011@gmail.com>
Date: Mon, 15 Aug 2022 23:32:31 -0600
Subject: [PATCH] build: bypass extra dependency checks

---
 externals/CMakeLists.txt                   | 2 +-
 src/video_core/CMakeLists.txt              | 6 +++---
 src/video_core/host_shaders/CMakeLists.txt | 6 +++---
 3 files changed, 7 insertions(+), 7 deletions(-)

diff --git a/externals/CMakeLists.txt b/externals/CMakeLists.txt
index 1f7cd598e..649b23ae9 100644
--- a/externals/CMakeLists.txt
+++ b/externals/CMakeLists.txt
@@ -128,7 +128,7 @@ endif()
 
 # FFMpeg
 if (YUZU_USE_BUNDLED_FFMPEG)
-    add_subdirectory(ffmpeg)
+    #add_subdirectory(ffmpeg)
     set(FFmpeg_PATH "${FFmpeg_PATH}" PARENT_SCOPE)
     set(FFmpeg_LDFLAGS "${FFmpeg_LDFLAGS}" PARENT_SCOPE)
     set(FFmpeg_LIBRARIES "${FFmpeg_LIBRARIES}" PARENT_SCOPE)
diff --git a/src/video_core/CMakeLists.txt b/src/video_core/CMakeLists.txt
index 9b13ccbab..c4a5c25f6 100644
--- a/src/video_core/CMakeLists.txt
+++ b/src/video_core/CMakeLists.txt
@@ -284,9 +284,9 @@ create_target_directory_groups(video_core)
 target_link_libraries(video_core PUBLIC common core)
 target_link_libraries(video_core PUBLIC glad shader_recompiler stb bc_decoder)
 
-if (YUZU_USE_BUNDLED_FFMPEG AND NOT (WIN32 OR ANDROID))
-    add_dependencies(video_core ffmpeg-build)
-endif()
+#if (YUZU_USE_BUNDLED_FFMPEG AND NOT (WIN32 OR ANDROID))
+#    add_dependencies(video_core ffmpeg-build)
+#endif()
 
 target_include_directories(video_core PRIVATE ${FFmpeg_INCLUDE_DIR})
 target_link_libraries(video_core PRIVATE ${FFmpeg_LIBRARIES})
diff --git a/src/video_core/host_shaders/CMakeLists.txt b/src/video_core/host_shaders/CMakeLists.txt
index c4d459077..6354674db 100644
--- a/src/video_core/host_shaders/CMakeLists.txt
+++ b/src/video_core/host_shaders/CMakeLists.txt
@@ -65,9 +65,9 @@ set(SHADER_FILES
 )
 
 find_program(GLSLANGVALIDATOR "glslangValidator")
-if ("${GLSLANGVALIDATOR}" STREQUAL "GLSLANGVALIDATOR-NOTFOUND")
-    message(FATAL_ERROR "Required program `glslangValidator` not found.")
-endif()
+#if ("${GLSLANGVALIDATOR}" STREQUAL "GLSLANGVALIDATOR-NOTFOUND")
+#    message(FATAL_ERROR "Required program `glslangValidator` not found.")
+#endif()
 
 set(GLSL_FLAGS "")
 set(QUIET_FLAG "--quiet")
-- 
2.41.0

